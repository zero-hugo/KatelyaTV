# Kvrocks 配置文件 (带密码认证)
# 基于 RocksDB 的 Redis 协议兼容存储引擎

# 网络配置
bind 0.0.0.0
port 6666

# 数据存储配置
dir /var/lib/kvrocks/data

# 日志配置
log-level info
log-dir /var/lib/kvrocks/logs

# 性能优化配置
# RocksDB 配置
rocksdb.max_open_files 4096
rocksdb.max_background_jobs 4
rocksdb.max_write_buffer_number 4
rocksdb.write_buffer_size 64MB

# 压缩配置
rocksdb.compression snappy

# 内存配置
max-memory 512MB

# 安全配置 - 启用密码认证
# 密码将通过环境变量 KVROCKS_REQUIREPASS 设置
requirepass ${KVROCKS_REQUIREPASS}

# 持久化配置
# Kvrocks 基于 RocksDB，天然支持持久化，无需额外配置

# 网络超时配置
timeout 300

# 客户端连接配置
tcp-keepalive 300
tcp-backlog 511

# 慢查询日志
slowlog-log-slower-than 10000
slowlog-max-len 128

# 数据库数量
databases 16

# 备份配置
save ""
